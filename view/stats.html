

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script src="./assets/amcharts/amcharts.js" type="text/javascript"></script>
    <script src="./assets/amcharts/pie.js" type="text/javascript"></script>

    <script>
        // var xhr = new XMLHttpRequest();
        // xhr.open("get", "../../controllers/admin_controller.php?stat=age");
        // xhr.onreadystatechange = function () {
        //     if (!(xhr.readyState === 4 && xhr.status === 200)) {
        //
        //     } else {
        //         var chart;
        //         var legend;
        //
        //
        //         var dar = JSON.parse(this.responseText);
        //         console.log(dar);
        //         var chartData = dar;

                var chartData = [{
                    "groups" : "az",
                    "counter" : 3
                },
                    {
                        "groups" : "ti",
                        "counter" : 6
                    }
                ];

                AmCharts.ready(function () {
                    // PIE CHART
                    chart = new AmCharts.AmPieChart();
                    chart.addTitle("Age", 16);
                    chart.dataProvider = chartData;
                    chart.titleField = "groups";
                    chart.valueField = "counter";
                    chart.outlineColor = "#FFFFFF";
                    chart.outlineAlpha = 0.8;
                    chart.outlineThickness = 2;
                    chart.balloonText = "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>";
                    // this makes the chart 3D
                    chart.depth3D = 15;
                    chart.angle = 30;

                    // WRITE
                    chart.write("chartdiv");
                });
        //     }
        // }
            // xhr.send();
    </script>


    <script>
        var h = new XMLHttpRequest();
        h.open("get", "../../controllers/admin_controller.php?stat=gender");
        h.onreadystatechange = function () {
            if(!(h.readyState === 4 && h.status === 200)){

            }else {

                var chart;
                console.log(this.responseText);
                var dar = JSON.parse(this.responseText);
                console.log(dar);
                var chartData = dar;
                AmCharts.ready(function () {
                    // PIE CHART
                    chart = new AmCharts.AmPieChart();
                    // console.log(chartData);
                    // title of the chart
                    chart.addTitle("Gender", 16);

                    chart.dataProvider = chartData;
                    chart.titleField = "gender";
                    chart.valueField = "visits";
                    chart.sequencedAnimation = true;
                    chart.startEffect = "elastic";
                    chart.innerRadius = "30%";
                    chart.startDuration = 2;
                    chart.labelRadius = 15;
                    chart.balloonText = "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>";
                    // the following two lines makes the chart 3D
                    chart.depth3D = 10;
                    chart.angle = 15;

                    // WRITE
                    chart.write("char");
                });
            }
        }
        h.send();
    </script>
</head>



<body>

<div class="col-sm-5" >
    <div class="panel-heading">
        <!--<div class="panel-title">STATISTICS</div>-->
    </div>
    <div id="chartdiv" style="width: 100%; height: 400px;"></div>
</div>
<div class="col-sm-5" >
    <div class="panel-heading">
        <!--<div class="panel-title">STATISTICS</div>-->
    </div>
    <div id="char" style="width: 100%; height: 400px;"></div>
</div>
</body>





